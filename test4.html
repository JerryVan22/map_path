<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>2D/3D模式切换</title>
</head>
<script charset="utf-8" src="https://map.qq.com/api/gljs?v=1.exp&key=YO4BZ-32Q6X-TBE4P-7VBGQ-JZC32-ZQFWW"></script>
<style type="text/css">
  html,
  body {
    height: 100%;
    margin: 0px;
    padding: 0px;
  }

  #container {
    width: 100%;
    height: 100%;
    position: relative;
  }

  input {
    position: absolute;
    top: 30px;
    z-index: 9999;
  }

  #btn-2d {
    left: 20px;
  }

  #btn-3d {
    left: 80px;
  }
</style>

<body>
  <div id="container"></div>
  <input type="button" id="btn-2d" onclick="change2D()" value="切换2D">
  <input type="button" id="btn-3d" onclick="change3D()" value="切换3D">
  <script type="text/javascript">

    let sw = new TMap.LatLng(31.752313, 117.177401);
    let ne = new TMap.LatLng(31.780088, 117.195023);
    let boundary = new TMap.LatLngBounds(sw, ne);


    var center = new TMap.LatLng(31.76693, 117.18487);
    //初始化地图
    var map = new TMap.Map("container", {
      zoom: 17,//设置地图缩放级别
      center: center//设置地图中心点坐标
    });

    map.setMinZoom(17)
    map.setBoundary(boundary);



    function change2D() {
      map.setViewMode('2D');
    }

    function change3D() {
      map.setViewMode('3D');
      map.setPitch(70);
    }



    const zoom_in = Array.from(document.getElementsByClassName('tmap-zoom-in'));
    zoom_in.forEach(elem => {
      elem.onclick = function () { map.zoomTo(map.getZoom() + 1, 500); }
    });

    const zoom_out = Array.from(document.getElementsByClassName('tmap-zoom-out'));
    zoom_out.forEach(elem => {
      elem.onclick = function () { map.zoomTo(map.getZoom() - 1, 500); }
    });
  </script>

    <script src="./test.js"></script>
</body>

</html>